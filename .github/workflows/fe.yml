# ÄÆ°á»ng dáº«n: .github/workflows/deploy-frontend.yml

name: ğŸš€ Deploy Frontend (ASP/Static) to SomEE

on:
  push:
    branches:
      - main
    paths:
      - 'frontend/**' # Váº«n chá»‰ cháº¡y khi cÃ³ thay Ä‘á»•i trong 'frontend'

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¦ Checkout code
        uses: actions/checkout@v4

      # Bá» qua: Setup Node.js Environment
      # Bá» qua: Install Dependencies & Build Frontend
      
      - name: ğŸ“¤ Deploy Frontend via SFTP (Sá»­ dá»¥ng Host/User/Pass)
        uses: appleboy/scp-action@v0.1.7 
        with:
          host: ${{ secrets.SOMEE_FE_HOST }}
          username: ${{ secrets.SOMEE_FE_USER }}
          password: ${{ secrets.SOMEE_FE_PASS }}
          port: 22 
          source: frontend/* # Láº¥y Táº¤T Cáº¢ file/thÆ° má»¥c bÃªn trong thÆ° má»¥c 'frontend'
          # QUAN TRá»ŒNG: Thay tháº¿ target báº±ng Ä‘Æ°á»ng dáº«n chÃ­nh xÃ¡c cá»§a báº¡n trÃªn SomEE
          target: "/www.quocMNM.somee.com/" 
          # LÆ°u Ã½: Target Path á»Ÿ Ä‘Ã¢y Ä‘Æ°á»£c sá»­a dá»±a trÃªn hÃ¬nh áº£nh File Manager cá»§a báº¡n
          strip_components: 1 # Äá»ƒ chá»‰ upload ná»™i dung bÃªn trong thÆ° má»¥c 'frontend'
          
      - name: âœ… Deployment Successful
        run: echo "Frontend Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai thÃ nh cÃ´ng lÃªn SomEE!"
